# 微信小程序

最新火的一塌糊涂的微信小程序到底是个什么鬼？笔者有幸第一时间成为了微信小程序的开发者，给大家分享一下开发心得。

### 与传统app的区别

微信小程序运行在微信中，而传统app是直接运行在操作系统上。可以类比的产品是chrome app，区别是chrome app是桌面的，所以每个chrome app都有独立窗口，只是在切换应用时操作系统会认为chrome和chrome app是同一个应用，稍有不便，除此之外几乎和native app一模一样，但是移动端的微信不能实现多窗口，这一点十分尴尬

<iframe height=498 width=510 src='http://player.youku.com/embed/XMTgzMjkyODA4MA==' frameborder=0 'allowfullscreen'></iframe>

对于用户而言，在html5和native之间多了一个选择，16G手机的福音。
对于企业而言，开发小程序的成本低于native app，已经有native app
对于微信而言，功能更强大的微信用户粘性更大，地位更加稳定

#### 问答

- **微信小程序是html5吗？**
不是，微信小程序是利用web技术开发native页面。体验比html5要好很多，比纯的native应用稍差（因为中间有一个转义的过程）。并且小程序中不能嵌入web页面，也不能跳转到web页面。
- **个人用户可以申请小程序吗？**
不可以，小程序目前只对企业、政府、媒体和其他组织开放（其他组织是什么...反正就是不对个人开放）。

### 小程序的边界

微信为了更方便地管理小程序，给小程序添加了诸多限制，其中页面整体的结构就限制的非常死

- 代码包的大小最多1M（保证用户第一次快速下载）
- 页面的层级最多5层
- 不能主动给用户推送微信消息，只有当用户完成某个操作时，比如付款，这时可以给用户推送一个付款成功的消息，而且消息有固定的模板，自由发挥的空间很小


#### 问答

- **能不能做个“微信”？**
不能，因为没有主动推送消息的能力
- **可以把页面做成沉浸式吗？**
不能
- **能做游戏吗？**
由于渲染机制和代码包大小等原因，很难做出效果很好的游戏，2048、象棋还是可以的
- **能做直播吗？**
不能
- **如果已经到了第5级页面，可以使用图片预览和地图预览吗？**
可以
- **每个小程序最多1M，那么1G内存就可以装1024个小程序咯？**
如果只安装不运行确实可以，1M只是代码包的大小，实际运行起来会占用大得多存储空间，小程序的本地缓存限制为5M，网络图片会额外占用缓存

### 入口与传播

张小龙同学发了个朋友圈，安卓系统桌面上都是微信小程序，似乎预示着小程序会有系统桌面的入口，简直吊炸天。那么ios怎么办呢，其实ios下也是可以做桌面图标，变通一下，因为Safari可以添加网页到桌面，可以在打开的网页中跳转到微信小程序，网页云音乐的听歌识曲就是这么干的，体验略微有些奇怪，不知道微信会不会这么干

### 开发技巧
这部分内容很干，主要是面向开发者的。